













PUT /_template/index_defaults 
{
    "index_patterns": "{Index_Name}", 
    "settings" : {
        "index" : {
            "number_of_shards" : 5,
            "number_of_replicas" : 1
        }
    }
}

GET _cat/shards?v=true&h=index,prirep,shard,store&s=prirep,store&bytes=gb

POST _reindex
{
  "source": {
    "index": "my-index-2099.10"
  },
  "dest": {
    "index": "my-index-2099.10"
  }
}



GET _cluster/stats?filter_path=indices.shards.total


GET _cat/recovery?v



GET taminsec-web-accesslog-2022.10.26/_search
{
  "query": {
    "match_phrase": { "data.srcip": "172.16.15.172" }
  },
  "aggregations": {
    "agentname": {
      "significant_text": {
        "field": "agent.name",
        "size": 100
      }
    }
  }
} 
 


GET taminsec-web-accesslog-2022.10.26/_search
{
  "query": {
    "match_phrase": { "data.srcip": "172.16.15.172" }
  },
  "aggregations": {
    "agentname": {
      "significant_text": {
        "field": "agent.name",
        "size": 100
      }
      
      
    }
  }
} 
 








GET taminsec-web-accesslog-2022.10.26/_search
{
  "query": {
    "match_phrase": { "data.srcip": "172.16.15.172" }
  },
  "aggregations": {
    "agentname": {
      "significant_text": {
        "field": "agent.name",
        "size": 100
      }
    }
  }
} 
 
  
GET taminsec-web-accesslog-2022.10*/_search
{
  "query": {
        "match_phrase": {"data.srcip": "172.16.15.172" }
  },
   "filter":{
     "range":{
            "@timestamp": {
              "gte": "2022-10-25T00:00:00.925Z",
              "lte": "2022-10-26T23:59:59.925Z"
             }
          }
    }
}


GET taminsec-web-accesslog-2022.10.26/_search
{
  "query": {
    "match_phrase": { "data.srcip": "172.16.15.172" }
  },
  "aggregations": {
    "agentname": {
      "significant_text": {
        "field": "agent.name",
        "size": 100
      }
    }
  }
} 


GET taminsec-web-accesslog-2022.10*/_count
{
  "query": {
    "bool": {
      "must": [
        {
        "match_phrase": {
          "data.srcip": "172.16.15.172" 
         }
        }
        ],
       "filter":{
          "range":{
             "@timestamp": {
               "gte": "2022-10-25T00:00:00.925Z",
               "lte": "2022-10-26T23:59:59.925Z"
          }
        }
      }
    }
  }
} 
 
GET taminsec-web-accesslog-2022.11*/_count
{
  "query": {
    "bool": {
      "must": [
        {
          "match_phrase": {
            "data.srcip": "172.16.15.169"
          }
        },
         {
          "match_phrase": {
            "service_name": "Eservices"
          }
        }
      ],
      "filter":{
          "range":{
             "@timestamp": {
               "gte": "2022-11-08T00:00:00.925Z",
               "lte": "2022-11-08T14:45:59.925Z"
          }
        }
      }
    }
  }
} 



POST /_security/api_key
{
  "name": "admin-test",
  "expiration": "1d", 
  "role_descriptors": { 
    "role-a": {
      "cluster": ["all"],
      "index": [
        {
          "names": ["*"],
          "privileges": ["all"]
        }
      ]
    }
  }
}



GET taminsec-web-accesslog-2022.11.08/_count
{
  "query": {
    "bool": {
      "must": [
        {
          "match_phrase": {
            "data.srcip": "172.16.15.169"
          }
        },
         {
          "match_phrase": {
            "service_name": "Eservices"
          }
        }
      ],
      "filter":{
          "range":{
             "@timestamp": {
               "gte": "2022-11-08T00:00:00.925Z",
               "lte": "2022-11-08T14:45:59.925Z"
          }
        }
      }
    }
  }
}

GET /taminsec-web-svc-20220712.clone/_mapping?pretty

PUT /taminsec-web-svc-2022.07.12/_settings
{
  "settings": {
    "index.blocks.write": false
  }
}

POST /taminsec-web-svc-2022.07.12/_clone/taminsec-web-svc-20220712.clone


POST /taminsec-web-svc-2022.07.12/_update_by_query
 {
  "script" : "for (int i = 0; i < ctx._source.provider_candidates.length; ++i) { ctx._source.provider_candidates[i].remove(\"queryParameters\") }",
   "query": {
     "nested": {
       "path": "provider_candidates",
       "query": {
         "bool": {
           "must": [
             {
               "exists": {
                 "field": "provider_candidates.queryParameters"
               }
             }
           ]
         }
       }
     }
   }
 }



